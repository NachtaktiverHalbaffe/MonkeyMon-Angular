import{a as O,b as Q}from"./chunk-WAPR2S2G.js";import"./chunk-GQW3YTZN.js";import{b as U,d as W,e as X,f as r,h as Y,i as Z,j as ee,k as te,m as ie,n as F,o as ne,p as oe,q as re,r as se,s as me}from"./chunk-ZC2QNZ63.js";import"./chunk-Z2JWWWZL.js";import{a as q}from"./chunk-WIEG6SCO.js";import{m as R,o as z,p as J,q as K}from"./chunk-6HLZJ4Z7.js";import"./chunk-ZRJYGJRC.js";import{Bb as j,Cb as E,Db as m,Eb as l,Fb as d,Ha as A,Jb as V,Lb as D,Mb as g,Pb as v,Ub as G,Vb as f,Wa as a,Wb as L,Xa as C,Xb as y,bc as b,ec as p,fb as u,fc as c,ga as k,hb as H,ma as M,na as h,ob as w,pa as T,tb as _,wc as $,xb as P,ya as B,yb as x,za as N}from"./chunk-PNIFWNEC.js";import{j as S}from"./chunk-VZUFPQ2A.js";var ue=q("text-sm font-medium leading-none [&>[hlmInput]]:my-1 [&:has([hlmInput]:disabled)]:cursor-not-allowed [&:has([hlmInput]:disabled)]:opacity-70",{variants:{variant:{default:""},error:{auto:"[&:has([hlmInput].ng-invalid.ng-touched)]:text-destructive",true:"text-destructive"},disabled:{auto:"[&:has([hlmInput]:disabled)]:opacity-70",true:"opacity-70",false:""}},defaultVariants:{variant:"default",error:"auto"}}),le=(()=>{let i=class i{constructor(){this._brn=k(F,{host:!0}),this.userClass=A("",{alias:"class"}),this._computedClass=$(()=>R(ue({variant:this._variant(),error:this._error(),disabled:this._brn?.dataDisabled()??"auto"}),"[&.ng-invalid.ng-touched]:text-destructive",this.userClass())),this._variant=u("default"),this._error=u("auto")}set variant(n){this._variant.set(n)}set error(n){this._error.set(n)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=T({type:i,selectors:[["","hlmLabel",""]],hostVars:2,hostBindings:function(e,s){e&2&&P(s._computedClass())},inputs:{userClass:[M.SignalBased,"class","userClass"],variant:"variant",error:"error"},standalone:!0,features:[H([{directive:F,inputs:["id","id"]}])]});let t=i;return t})();var fe=(t,i)=>i.key;function ye(t,i){if(t&1){let o=V();m(0,"label",7),f(1),p(2,"translate"),m(3,"input",8,0),p(5,"translate"),D("change",function(){B(o);let e=G(4),s=g(2);return N(s.processFile(e))}),l(),m(6,"p",9),f(7),p(8,"translate"),l()()}if(t&2){let o=g().$implicit;a(),y(" ",c(2,4,"monkey_form.labels."+o.key)," "),a(2),v("placeholder",c(5,6,"monkey_form.labels."+o.key)),_("formControlName",o.key),a(4),y(" ",c(8,8,"monkey_form.descriptions."+o.key)," ")}}function ke(t,i){if(t&1&&(m(0,"label",7),f(1),p(2,"translate"),d(3,"input",10),p(4,"translate"),m(5,"p",9),f(6),p(7,"translate"),l()()),t&2){let o=g().$implicit;a(),y(" ",c(2,5,"monkey_form.labels."+o.key)," "),a(2),v("placeholder",c(4,7,"monkey_form.labels."+o.key)),_("type",o.type)("formControlName",o.key),a(3),y(" ",c(7,9,"monkey_form.descriptions."+o.key)," ")}}function he(t,i){if(t&1&&w(0,ye,9,10,"label",7)(1,ke,8,11),t&2){let o=i.$implicit;x(0,o.type=="file"?0:1)}}function _e(t,i){t&1&&(d(0,"input",6),p(1,"translate")),t&2&&v("value",c(1,1,"monkey_form.placeholders.submit"))}function ge(t,i){t&1&&d(0,"input",11)}function ve(t,i){t&1&&d(0,"input",12)}function be(t,i){t&1&&d(0,"input",13)}var pe=(()=>{let i=class i{constructor(n,e){this.fb=n,this.imageFile=null,this.isPosting=u(!1),this.success=u(!1),this.error=u(!1),this.monkeyApiService=k(Q),this.formFieldBuilder=[{key:"name",type:"text"},{key:"image",type:"file"},{key:"description",type:"text"},{key:"speciesName",type:"text"},{key:"knownFrom",type:"text"},{key:"strengths",type:"text"},{key:"weaknesses",type:"text"},{key:"hp",type:"number"},{key:"attack",type:"number"},{key:"defense",type:"number"},{key:"specialAttack",type:"number"},{key:"specialDefense",type:"number"},{key:"speed",type:"number"}],this.monkeyForm=this.fb.group({name:new r(""),image:new r(""),description:new r(""),speciesName:new r(""),knownFrom:new r(""),strengths:new r(""),weaknesses:new r(""),hp:new r(0),attack:new r(0),defense:new r(0),specialAttack:new r(0),specialDefense:new r(0),speed:new r(0)}),e.get("monkey_form.labels.name"),e.get("monkey_form.labels.image"),e.get("monkey_form.labels.description"),e.get("monkey_form.labels.speciesName"),e.get("monkey_form.labels.knownFrom"),e.get("monkey_form.labels.strengths"),e.get("monkey_form.labels.weaknesses"),e.get("monkey_form.labels.hp"),e.get("monkey_form.labels.attack"),e.get("monkey_form.labels.defense"),e.get("monkey_form.labels.specialAttack"),e.get("monkey_form.labels.specialDefense"),e.get("monkey_form.labels.speed"),e.get("monkey_form.descriptions.name"),e.get("monkey_form.descriptions.image"),e.get("monkey_form.descriptions.description"),e.get("monkey_form.descriptions.speciesName"),e.get("monkey_form.descriptions.knownFrom"),e.get("monkey_form.descriptions.strengths"),e.get("monkey_form.descriptions.weaknesses"),e.get("monkey_form.descriptions.hp"),e.get("monkey_form.descriptions.attack"),e.get("monkey_form.descriptions.defense"),e.get("monkey_form.descriptions.specialAttack"),e.get("monkey_form.descriptions.specialDefense"),e.get("monkey_form.descriptions.speed")}onSubmit(n){return S(this,null,function*(){this.isPosting.set(!0);let e={name:this.monkeyForm.value.name,description:this.monkeyForm.value.description,knownFrom:this.monkeyForm.value.knownFrom,strength:this.monkeyForm.value.strengths,weaknesses:this.monkeyForm.value.weaknesses,hp:this.monkeyForm.value.hp,attack:this.monkeyForm.value.attack,defense:this.monkeyForm.value.defense,specialAttack:this.monkeyForm.value.specialAttack,specialDefense:this.monkeyForm.value.specialDefense,speed:this.monkeyForm.value.speed};O.safeParse(e).success?(yield this.monkeyApiService._postMonkey(e,this.imageFile).toPromise().then(de=>(this.isPosting.set(!1),typeof de?.id=="number")))?this.success.set(!0):this.error.set(!0):(this.isPosting.set(!1),this.error.set(!0))})}processFile(n){this.imageFile=n.files[0]}};i.\u0275fac=function(e){return new(e||i)(C(te),C(z))},i.\u0275cmp=h({type:i,selectors:[["app-monkey-form"]],standalone:!0,features:[b],decls:14,vars:5,consts:[["imageInput",""],["hlmCard","",1,"w-full"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardContent","",1,"w-full",3,"ngSubmit","formGroup"],[1,"flex","items-end","justify-end"],["hlmInput","","type","submit",1,"justify-end",3,"value"],["hlmLabel","",1,"w-full","my-4"],["hlmInput","","accept","image/*","type","file",1,"w-full","h-fit","my-4","py-4",3,"change","placeholder","formControlName"],[1,"text-sm","text-neutral-500","dark:text-neutral-400","mb-4"],["hlmInput","",1,"w-full","my-4","py-4",3,"placeholder","type","formControlName"],["hlmInput","","value","Processing...","type","submit",1,"w-full"],["hlmInput","","value","Success","type","submit",1,"w-full"],["hlmInput","","value","Error","type","submit",1,"w-full"]],template:function(e,s){e&1&&(m(0,"section",1)(1,"div",2)(2,"h1",3),f(3),p(4,"translate"),l()(),m(5,"form",4),D("ngSubmit",function(I){return s.onSubmit(I)}),m(6,"div"),j(7,he,2,1,null,null,fe),l(),m(9,"div",5),w(10,_e,2,3,"input",6)(11,ge,1,0)(12,ve,1,0)(13,be,1,0),l()()()),e&2&&(a(3),L(c(4,3,"monkey_form.title")),a(2),_("formGroup",s.monkeyForm),a(2),E(s.formFieldBuilder),a(3),x(10,!s.isPosting()&&!s.error()?10:s.isPosting()?11:s.success()?12:13))},dependencies:[me,re,se,oe,K,J,ne,ie,Y,U,W,X,Z,ee,le],encapsulation:2});let t=i;return t})();var Ze=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h({type:i,selectors:[["app-monkeyapi"]],standalone:!0,features:[b],decls:2,vars:0,consts:[[1,"flex","flex-col","justify-evenly","min-h-screen","max-w-screen","bg-white","dark:bg-neutral-700","p-4","gap-4"]],template:function(e,s){e&1&&(m(0,"div",0),d(1,"app-monkey-form"),l())},dependencies:[pe]});let t=i;return t})();export{Ze as MonkeyapiComponent};
