import{a as E,b as U}from"./chunk-WAPR2S2G.js";import"./chunk-GQW3YTZN.js";import{b as W,d as X,e as Y,f as l,h as Z,i as ee,j as te,k as ne,m as ie,n as D,o as oe,p as se,q as re,r as ae,s as le}from"./chunk-ZC2QNZ63.js";import"./chunk-Z2JWWWZL.js";import{a as J}from"./chunk-WIEG6SCO.js";import{m as q,o as K,p as O,q as Q}from"./chunk-6HLZJ4Z7.js";import"./chunk-ZRJYGJRC.js";import{Bb as V,Cb as $,Db as p,Eb as c,Fb as f,Ha as P,Jb as G,Lb as S,Mb as y,Pb as b,Ub as L,Vb as h,Wa as m,Wb as z,Xa as I,Xb as v,bc as w,ec as u,fb as k,fc as d,ga as _,hb as H,ma as M,na as g,ob as C,pa as T,tb as F,wc as R,xb as j,ya as N,yb as x,za as B}from"./chunk-PNIFWNEC.js";import{j as A}from"./chunk-VZUFPQ2A.js";var de=J("text-sm font-medium leading-none [&>[hlmInput]]:my-1 [&:has([hlmInput]:disabled)]:cursor-not-allowed [&:has([hlmInput]:disabled)]:opacity-70",{variants:{variant:{default:""},error:{auto:"[&:has([hlmInput].ng-invalid.ng-touched)]:text-destructive",true:"text-destructive"},disabled:{auto:"[&:has([hlmInput]:disabled)]:opacity-70",true:"opacity-70",false:""}},defaultVariants:{variant:"default",error:"auto"}}),pe=(()=>{let i=class i{constructor(){this._brn=_(D,{host:!0}),this.userClass=P("",{alias:"class"}),this._computedClass=R(()=>q(de({variant:this._variant(),error:this._error(),disabled:this._brn?.dataDisabled()??"auto"}),"[&.ng-invalid.ng-touched]:text-destructive",this.userClass())),this._variant=k("default"),this._error=k("auto")}set variant(s){this._variant.set(s)}set error(s){this._error.set(s)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=T({type:i,selectors:[["","hlmLabel",""]],hostVars:2,hostBindings:function(e,t){e&2&&j(t._computedClass())},inputs:{userClass:[M.SignalBased,"class","userClass"],variant:"variant",error:"error"},standalone:!0,features:[H([{directive:D,inputs:["id","id"]}])]});let n=i;return n})();var fe=(n,i)=>i.key;function ye(n,i){if(n&1){let r=G();p(0,"label",7),h(1),u(2,"translate"),p(3,"input",8,0),u(5,"translate"),S("change",function(){N(r);let e=L(4),t=y(2);return B(t.processFile(e))}),c(),p(6,"p",9),h(7),u(8,"translate"),c()()}if(n&2){let r=y().$implicit;m(),v(" ",d(2,4,"monkey_form.labels."+r.key)," "),m(2),b("placeholder",d(5,6,"monkey_form.labels."+r.key)),F("formControlName",r.key),m(4),v(" ",d(8,8,"monkey_form.descriptions."+r.key)," ")}}function ke(n,i){if(n&1&&(p(0,"p",9),h(1),c()),n&2){let r,s=y(2).$implicit,e=y();m(),v(" ",(r=e.monkeyForm.get(s.key))==null||r.errors==null?null:r.errors.zodError," ")}}function he(n,i){if(n&1&&(p(0,"p",9),h(1),u(2,"translate"),c()),n&2){let r=y(2).$implicit;m(),v(" ",d(2,1,"monkey_form.descriptions."+r.key)," ")}}function ve(n,i){if(n&1&&(p(0,"label",7),h(1),u(2,"translate"),f(3,"input",10),u(4,"translate"),C(5,ke,2,1,"p",9)(6,he,3,3),c()),n&2){let r,s=y().$implicit,e=y();m(),v(" ",d(2,5,"monkey_form.labels."+s.key)," "),m(2),b("placeholder",d(4,7,"monkey_form.labels."+s.key)),F("type",s.type)("formControlName",s.key),m(2),x(5,(r=e.monkeyForm.get(s.key))!=null&&r.invalid&&((r=e.monkeyForm.get(s.key))!=null&&r.dirty||(r=e.monkeyForm.get(s.key))!=null&&r.touched)?5:6)}}function _e(n,i){if(n&1&&C(0,ye,9,10,"label",7)(1,ve,7,9),n&2){let r=i.$implicit;x(0,r.type=="file"?0:1)}}function ge(n,i){n&1&&(f(0,"input",6),u(1,"translate")),n&2&&b("value",d(1,1,"monkey_form.placeholders.submit"))}function Ce(n,i){n&1&&f(0,"input",11)}function Fe(n,i){n&1&&f(0,"input",12)}function xe(n,i){n&1&&f(0,"input",13)}var ce=(()=>{let i=class i{constructor(s,e){this.fb=s,this.imageFile=null,this.isPosting=k(!1),this.success=k(!1),this.error=k(!1),this.monkeyApiService=_(U),this.formFieldBuilder=[{key:"name",type:"text"},{key:"image",type:"file"},{key:"description",type:"text"},{key:"speciesName",type:"text"},{key:"knownFrom",type:"text"},{key:"strengths",type:"text"},{key:"weaknesses",type:"text"},{key:"hp",type:"number"},{key:"attack",type:"number"},{key:"defense",type:"number"},{key:"specialAttack",type:"number"},{key:"specialDefense",type:"number"},{key:"speed",type:"number"}],this.monkeyForm=this.fb.group({name:new l(null,t=>{let o={name:t.value,hp:1,attack:1,defense:1,specialAttack:1,specialDefense:1,speed:1};return this._validateEntry("name",o)}),image:new l(null),description:new l(null,t=>{let o={name:"",description:t.value,hp:1,attack:1,defense:1,specialAttack:1,specialDefense:1,speed:1};return this._validateEntry("description",o)}),speciesName:new l(null,t=>{let o={name:"",speciesName:t.value,hp:1,attack:1,defense:1,specialAttack:1,specialDefense:1,speed:1};return this._validateEntry("speciesName",o)}),knownFrom:new l(null,t=>{let o={name:"",description:t.value,hp:1,attack:1,defense:1,specialAttack:1,specialDefense:1,speed:1};return this._validateEntry("description",o)}),strengths:new l(null,t=>{let o={name:"",strength:t.value,hp:1,attack:1,defense:1,specialAttack:1,specialDefense:1,speed:1};return this._validateEntry("strength",o)}),weaknesses:new l(null,t=>{let o={name:"",weaknesses:t.value,hp:1,attack:1,defense:1,specialAttack:1,specialDefense:1,speed:1};return this._validateEntry("weaknesses",o)}),hp:new l(0,t=>{let o={name:"",hp:t.value,attack:1,defense:1,specialAttack:1,specialDefense:1,speed:1};return this._validateEntry("hp",o)}),attack:new l(0,t=>{let o={name:"",hp:1,attack:t.value,defense:1,specialAttack:1,specialDefense:1,speed:1};return this._validateEntry("attack",o)}),defense:new l(0,t=>{let o={name:"",hp:1,attack:1,defense:t.value,specialAttack:1,specialDefense:1,speed:1};return this._validateEntry("defense",o)}),specialAttack:new l(0,t=>{let o={name:"",hp:1,attack:1,defense:1,specialAttack:t.value,specialDefense:1,speed:1};return this._validateEntry("specialAttack",o)}),specialDefense:new l(0,t=>{let o={name:"",hp:1,attack:1,defense:1,specialAttack:1,specialDefense:t.value,speed:1};return this._validateEntry("specialDefense",o)}),speed:new l(0,t=>{let o={name:"",hp:1,attack:1,defense:1,specialAttack:1,specialDefense:1,speed:t.value};return this._validateEntry("speed",o)})}),e.get("monkey_form.labels.name"),e.get("monkey_form.labels.image"),e.get("monkey_form.labels.description"),e.get("monkey_form.labels.speciesName"),e.get("monkey_form.labels.knownFrom"),e.get("monkey_form.labels.strengths"),e.get("monkey_form.labels.weaknesses"),e.get("monkey_form.labels.hp"),e.get("monkey_form.labels.attack"),e.get("monkey_form.labels.defense"),e.get("monkey_form.labels.specialAttack"),e.get("monkey_form.labels.specialDefense"),e.get("monkey_form.labels.speed"),e.get("monkey_form.descriptions.name"),e.get("monkey_form.descriptions.image"),e.get("monkey_form.descriptions.description"),e.get("monkey_form.descriptions.speciesName"),e.get("monkey_form.descriptions.knownFrom"),e.get("monkey_form.descriptions.strengths"),e.get("monkey_form.descriptions.weaknesses"),e.get("monkey_form.descriptions.hp"),e.get("monkey_form.descriptions.attack"),e.get("monkey_form.descriptions.defense"),e.get("monkey_form.descriptions.specialAttack"),e.get("monkey_form.descriptions.specialDefense"),e.get("monkey_form.descriptions.speed")}onSubmit(s){return A(this,null,function*(){this.isPosting.set(!0);let e={name:this.monkeyForm.value.name,description:this.monkeyForm.value.description,knownFrom:this.monkeyForm.value.knownFrom,strength:this.monkeyForm.value.strengths,weaknesses:this.monkeyForm.value.weaknesses,hp:this.monkeyForm.value.hp,attack:this.monkeyForm.value.attack,defense:this.monkeyForm.value.defense,specialAttack:this.monkeyForm.value.specialAttack,specialDefense:this.monkeyForm.value.specialDefense,speed:this.monkeyForm.value.speed};E.safeParse(e).success?(yield this.monkeyApiService._postMonkey(e,this.imageFile).toPromise().then(ue=>(this.isPosting.set(!1),typeof ue?.id=="number")))?this.success.set(!0):this.error.set(!0):(this.isPosting.set(!1),this.error.set(!0))})}_validateEntry(s,e){let t=E.safeParse(e);if(t.success)return null;for(let a=0;a<t.error.issues.length;a++){let o=t.error.issues[a];if(o.path[0]==s)return{zodError:o.message}}return null}processFile(s){this.imageFile=s.files[0]}};i.\u0275fac=function(e){return new(e||i)(I(ne),I(K))},i.\u0275cmp=g({type:i,selectors:[["app-monkey-form"]],standalone:!0,features:[w],decls:14,vars:5,consts:[["imageInput",""],["hlmCard","",1,"w-full"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardContent","",1,"w-full",3,"ngSubmit","formGroup"],[1,"flex","items-end","justify-end"],["hlmInput","","type","submit",1,"justify-end",3,"value"],["hlmLabel","",1,"w-full","my-4"],["hlmInput","","accept","image/*","type","file",1,"w-full","h-fit","my-4","py-4",3,"change","placeholder","formControlName"],[1,"text-sm","text-neutral-500","dark:text-neutral-400","mb-4"],["hlmInput","",1,"w-full","my-4","py-4",3,"placeholder","type","formControlName"],["hlmInput","","value","Processing...","type","submit",1,"w-full"],["hlmInput","","value","Success","type","submit",1,"w-full"],["hlmInput","","value","Error","type","submit",1,"w-full"]],template:function(e,t){e&1&&(p(0,"section",1)(1,"div",2)(2,"h1",3),h(3),u(4,"translate"),c()(),p(5,"form",4),S("ngSubmit",function(o){return t.onSubmit(o)}),p(6,"div"),V(7,_e,2,1,null,null,fe),c(),p(9,"div",5),C(10,ge,2,3,"input",6)(11,Ce,1,0)(12,Fe,1,0)(13,xe,1,0),c()()()),e&2&&(m(3),z(d(4,3,"monkey_form.title")),m(2),F("formGroup",t.monkeyForm),m(2),$(t.formFieldBuilder),m(3),x(10,!t.isPosting()&&!t.error()?10:t.isPosting()?11:t.success()?12:13))},dependencies:[le,re,ae,se,Q,O,oe,ie,Z,W,X,Y,ee,te,pe],encapsulation:2});let n=i;return n})();var tt=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=g({type:i,selectors:[["app-monkeyapi"]],standalone:!0,features:[w],decls:2,vars:0,consts:[[1,"flex","flex-col","justify-evenly","min-h-screen","max-w-screen","bg-white","dark:bg-neutral-700","p-4","gap-4"]],template:function(e,t){e&1&&(p(0,"div",0),f(1,"app-monkey-form"),c())},dependencies:[ce]});let n=i;return n})();export{tt as MonkeyapiComponent};
