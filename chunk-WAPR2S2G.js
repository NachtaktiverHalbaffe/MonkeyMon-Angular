import{a as f}from"./chunk-GQW3YTZN.js";import{a as o,b as g}from"./chunk-Z2JWWWZL.js";import{o as u}from"./chunk-6HLZJ4Z7.js";import{D as c,aa as l,fa as h,ga as m,l as p,p as a}from"./chunk-PNIFWNEC.js";var k=g.extend({knownFrom:o.string().trim().optional().nullable(),strength:o.string().trim().optional().nullable(),weaknesses:o.string().trim().optional().nullable(),speciesName:o.string().trim().optional().nullable()});var S=(()=>{let n=class n{constructor(e){this.monkeys=[],this.http=m(f),this.errorMsgLabel="",e.get("monkeyapi.error").subscribe(s=>{this.errorMsgLabel=s})}getAllMonkeys(){return this._fetchMonkeys()}_fetchMonkeys(){return this.http.get("http://localhost:8080/api/v1/monkeys",{responseType:"json"}).pipe(c((e,s)=>{let r=`${this.errorMsgLabel}: ${e.message}`;return import("./ngx-sonner-A7IZFXCK.js").then(t=>t.toast).then(t=>t.error(r)),p(()=>new Error(r))}),a(e=>{let s=e.content,r=[];return s.forEach(t=>{let w={id:t.id,name:t.name,description:t.description,hp:t.health_points,attack:t.attack,defense:t.defense,specialAttack:t.special_attack,specialDefense:t.special_defense,speed:t.speed,image:t.image,knownFrom:t.known_from,strength:t.strength,weaknesses:t.weaknesses,speciesName:t.species_name};try{r.push(k.parse(w))}catch(b){console.debug(b)}}),r}))}_postMonkey(e,s){let r=new FormData;return r.append("body",JSON.stringify({name:e.name,description:e.description,health_points:e.hp,attack:e.attack,defense:e.defense,special_attack:e.specialAttack,special_defense:e.specialDefense,speed:e.speed,image:e.image,known_from:e.knownFrom,strength:e.strength,weaknesses:e.weaknesses,species_name:e.speciesName!=""?e.speciesName:null})),s!=null&&r.append("image",s),this.http.post("http://localhost:8080/api/v1/monkeys",r)}};n.\u0275fac=function(s){return new(s||n)(h(u))},n.\u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();export{k as a,S as b};
